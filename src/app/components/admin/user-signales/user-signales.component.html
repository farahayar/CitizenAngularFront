<app-admin></app-admin>
<div *ngIf="userSignalesleng > 0;then userSignaless else nouserSignales"></div>
<ng-template #nouserSignales>
    <div class="alert alert-warning">Pas de users signales à valider</div>
</ng-template>

<ng-template #userSignaless>
    <div class="">
        <table id="example" class="table table-striped table-bordered" style="width:100%">
            <thead>
                <tr>
                    <th>N°</th>
                    <th>Signaleur</th>
                    <th>Signalé</th>
                    <th>Raison du signale</th>
                    <th>Date du signale</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let p of userSignales; let i=index">
                    <td>{{ i+1 }}</td>
                    <td>
                        <img [src]="p.user_id.img" alt="Avatar" class="avatar" style="
                    vertical-align: middle;
                    width: 25px;
                    height: 25px;
                    border-radius: 50%;
                    box-shadow: 0px 15px 16.83px 0.17px #93d2d2;
                  ">
                        {{p.user_id.nom}} {{p.user_id.prenom}}
                        <button type="button" class=" btn-info btn-arrow-right" (click)="consulter(p.user_id)">Aller
                            vers mon profile</button>
                    </td>
                    <td>
                        <img [src]="p.user_idToS.img" alt="Avatar" class="avatar" style="
                    vertical-align: middle;
                    width: 25px;
                    height: 25px;
                    border-radius: 50%;
                    box-shadow: 0px 15px 16.83px 0.17px #93d2d2;
                  ">
                        {{p.user_idToS.nom}} {{p.user_idToS.prenom}}
                        <button type="button" class=" btn-info btn-arrow-right" (click)="consulter(p.user_id)">Aller
                            vers son profile</button>
                    </td>
                    <td>{{p.raison}}</td>
                    <td>{{ p.created_at | date : "fullDate"}}</td>
                    <td>
                        <table>
                            <td><button class="btn btn-outline-success" (click)="accepter(p)">Accepter</button></td>
                            <td><button class="btn btn-outline-danger" (click)="refuser(p)">Refuser</button></td>
                        </table>



                    </td>
                </tr>

            </tbody>
            <tfoot>
                <tr>
                    <th>N°</th>
                    <th>Signaleur</th>
                    <th>Signalé</th>
                    <th>Raison du signale</th>
                    <th>Date du signale</th>
                    <th>Action</th>
                </tr>
            </tfoot>
        </table>
    </div>
</ng-template>
<br>


<div class="modal fade" id="signale" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>

            </div>
            <div class="modal-body">
                <h6 style="text-align: center;" id="signaleRes"></h6>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-danger" (click)="close()"
                    data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

<script src="http://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js" defer></script>